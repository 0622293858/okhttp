<HTML>
<HEAD>
<meta charset="UTF-8">
<title>OkHttpClient - okhttp</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">okhttp</a>&nbsp;/&nbsp;<a href="../index.html">okhttp3</a>&nbsp;/&nbsp;<a href="./index.html">OkHttpClient</a><br/>
<br/>
<h1>OkHttpClient</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">OkHttpClient</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-cloneable/index.html"><span class="identifier">Cloneable</span></a><span class="symbol">, </span><a href="../-call/-factory/index.html"><span class="identifier">Call.Factory</span></a><span class="symbol">, </span><a href="../-web-socket/-factory/index.html"><span class="identifier">WebSocket.Factory</span></a></code>
<p>Factory for <a href="../-call/index.html">calls</a>, which can be used to send HTTP requests and read their responses.</p>
<h2>OkHttpClients Should Be Shared</h2>
<p>OkHttp performs best when you create a single <code>OkHttpClient</code> instance and reuse it for all of
your HTTP calls. This is because each client holds its own connection pool and thread pools.
Reusing connections and threads reduces latency and saves memory. Conversely, creating a client
for each request wastes resources on idle pools.</p>
<p>Use <code>new OkHttpClient()</code> to create a shared instance with the default settings:</p>
<pre><code>// The singleton HTTP client.
public final OkHttpClient client = new OkHttpClient();
</code></pre>
<p>Or use <code>new OkHttpClient.Builder()</code> to create a shared instance with custom settings:</p>
<pre><code>// The singleton HTTP client.
public final OkHttpClient client = new OkHttpClient.Builder()
    .addInterceptor(new HttpLoggingInterceptor())
    .cache(new Cache(cacheDir, cacheSize))
    .build();
</code></pre>
<h2>Customize Your Client With newBuilder()</h2>
<p>You can customize a shared OkHttpClient instance with <a href="new-builder.html">newBuilder</a>. This builds a client that
shares the same connection pool, thread pools, and configuration. Use the builder methods to
configure the derived client for a specific purpose.</p>
<p>This example shows a call with a short 500 millisecond timeout:</p>
<pre><code>OkHttpClient eagerClient = client.newBuilder()
    .readTimeout(500, TimeUnit.MILLISECONDS)
    .build();
Response response = eagerClient.newCall(request).execute();
</code></pre>
<h2>Shutdown Isn't Necessary</h2>
<p>The threads and connections that are held will be released automatically if they remain idle. But
if you are writing a application that needs to aggressively release unused resources you may do
so.</p>
<p>Shutdown the dispatcher's executor service with <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown()">shutdown()</a>. This will
also cause future calls to the client to be rejected.</p>
<pre><code>client.dispatcher().executorService().shutdown();
</code></pre>
<p>Clear the connection pool with <a href="../-connection-pool/evict-all.html">evictAll()</a>. Note that the connection
pool's daemon thread may not exit immediately.</p>
<pre><code>client.connectionPool().evictAll();
</code></pre>
<p>If your client has a cache, call <a href="../-cache/close.html">close()</a>. Note that it is an error to create calls
against a cache that is closed, and doing so will cause the call to crash.</p>
<pre><code>client.cache().close();
</code></pre>
<p>OkHttp also uses daemon threads for HTTP/2 connections. These will exit automatically if they
remain idle.</p>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-builder/index.html">Builder</a></p>
</td>
<td>
<code><span class="keyword">class </span><span class="identifier">Builder</span></code></td>
</tr>
</tbody>
</table>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-init-.html">&lt;init&gt;</a></p>
</td>
<td>
<code><span class="identifier">OkHttpClient</span><span class="symbol">(</span><span class="symbol">)</span></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="authenticator.html">authenticator</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">authenticator</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-authenticator/index.html"><span class="identifier">Authenticator</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="cache.html">cache</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">cache</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-cache/index.html"><span class="identifier">Cache</span></a><span class="symbol">?</span></code></td>
</tr>
<tr>
<td>
<p><a href="call-timeout-millis.html">callTimeoutMillis</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">callTimeoutMillis</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>Default call timeout (in milliseconds). By default there is no timeout for complete calls, but
there is for the connect, write, and read actions within a call.</p>
</td>
</tr>
<tr>
<td>
<p><a href="certificate-pinner.html">certificatePinner</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">certificatePinner</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-certificate-pinner/index.html"><span class="identifier">CertificatePinner</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="connection-pool.html">connectionPool</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">connectionPool</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-connection-pool/index.html"><span class="identifier">ConnectionPool</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="connection-specs.html">connectionSpecs</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">connectionSpecs</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../-connection-spec/index.html"><span class="identifier">ConnectionSpec</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="connect-timeout-millis.html">connectTimeoutMillis</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">connectTimeoutMillis</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>Default connect timeout (in milliseconds). The default is 10 seconds.</p>
</td>
</tr>
<tr>
<td>
<p><a href="cookie-jar.html">cookieJar</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">cookieJar</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-cookie-jar/index.html"><span class="identifier">CookieJar</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="dispatcher.html">dispatcher</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">dispatcher</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-dispatcher/index.html"><span class="identifier">Dispatcher</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="dns.html">dns</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">dns</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-dns/index.html"><span class="identifier">Dns</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="event-listener-factory.html">eventListenerFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">eventListenerFactory</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-event-listener/-factory/index.html"><span class="identifier">EventListener.Factory</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="follow-redirects.html">followRedirects</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">followRedirects</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="follow-ssl-redirects.html">followSslRedirects</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">followSslRedirects</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="hostname-verifier.html">hostnameVerifier</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">hostnameVerifier</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/HostnameVerifier.html"><span class="identifier">HostnameVerifier</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="interceptors.html">interceptors</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">interceptors</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../-interceptor/index.html"><span class="identifier">Interceptor</span></a><span class="symbol">&gt;</span></code>
<p>Returns an immutable list of interceptors that observe the full span of each call: from before
the connection is established (if any) until after the response source is selected (either the
origin server, cache, or both).</p>
</td>
</tr>
<tr>
<td>
<p><a href="network-interceptors.html">networkInterceptors</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">networkInterceptors</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../-interceptor/index.html"><span class="identifier">Interceptor</span></a><span class="symbol">&gt;</span></code>
<p>Returns an immutable list of interceptors that observe a single network request and response.
These interceptors must call <a href="../-interceptor/-chain/proceed.html">Interceptor.Chain.proceed</a> exactly once: it is an error for
a network interceptor to short-circuit or repeat a network request.</p>
</td>
</tr>
<tr>
<td>
<p><a href="new-builder.html">newBuilder</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">newBuilder</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="-builder/index.html"><span class="identifier">OkHttpClient.Builder</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="new-call.html">newCall</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">newCall</span><span class="symbol">(</span><span class="identifier" id="okhttp3.OkHttpClient$newCall(okhttp3.Request)/request">request</span><span class="symbol">:</span>&nbsp;<a href="../-request/index.html"><span class="identifier">Request</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../-call/index.html"><span class="identifier">Call</span></a></code>
<p>Prepares the <a href="new-call.html#okhttp3.OkHttpClient$newCall(okhttp3.Request)/request">request</a> to be executed at some point in the future.</p>
</td>
</tr>
<tr>
<td>
<p><a href="new-web-socket.html">newWebSocket</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">newWebSocket</span><span class="symbol">(</span><span class="identifier" id="okhttp3.OkHttpClient$newWebSocket(okhttp3.Request, okhttp3.WebSocketListener)/request">request</span><span class="symbol">:</span>&nbsp;<a href="../-request/index.html"><span class="identifier">Request</span></a><span class="symbol">, </span><span class="identifier" id="okhttp3.OkHttpClient$newWebSocket(okhttp3.Request, okhttp3.WebSocketListener)/listener">listener</span><span class="symbol">:</span>&nbsp;<a href="../-web-socket-listener/index.html"><span class="identifier">WebSocketListener</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../-web-socket/index.html"><span class="identifier">WebSocket</span></a></code>
<p>Uses <a href="new-web-socket.html#okhttp3.OkHttpClient$newWebSocket(okhttp3.Request, okhttp3.WebSocketListener)/request">request</a> to connect a new web socket.</p>
</td>
</tr>
<tr>
<td>
<p><a href="ping-interval-millis.html">pingIntervalMillis</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">pingIntervalMillis</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>Web socket and HTTP/2 ping interval (in milliseconds). By default pings are not sent.</p>
</td>
</tr>
<tr>
<td>
<p><a href="protocols.html">protocols</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">protocols</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../-protocol/index.html"><span class="identifier">Protocol</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="proxy.html">proxy</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">proxy</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/net/Proxy.html"><span class="identifier">Proxy</span></a><span class="symbol">?</span></code></td>
</tr>
<tr>
<td>
<p><a href="proxy-authenticator.html">proxyAuthenticator</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">proxyAuthenticator</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-authenticator/index.html"><span class="identifier">Authenticator</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="proxy-selector.html">proxySelector</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">proxySelector</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/net/ProxySelector.html"><span class="identifier">ProxySelector</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="read-timeout-millis.html">readTimeoutMillis</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">readTimeoutMillis</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>Default read timeout (in milliseconds). The default is 10 seconds.</p>
</td>
</tr>
<tr>
<td>
<p><a href="retry-on-connection-failure.html">retryOnConnectionFailure</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">retryOnConnectionFailure</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="socket-factory.html">socketFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">socketFactory</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/javax/net/SocketFactory.html"><span class="identifier">SocketFactory</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="ssl-socket-factory.html">sslSocketFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">sslSocketFactory</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLSocketFactory.html"><span class="identifier">SSLSocketFactory</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="write-timeout-millis.html">writeTimeoutMillis</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">writeTimeoutMillis</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>Default write timeout (in milliseconds). The default is 10 seconds.</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
