<HTML>
<HEAD>
<meta charset="UTF-8">
<title>RequestBody.isDuplex - okhttp</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">okhttp</a>&nbsp;/&nbsp;<a href="../index.html">okhttp3</a>&nbsp;/&nbsp;<a href="index.html">RequestBody</a>&nbsp;/&nbsp;<a href="./is-duplex.html">isDuplex</a><br/>
<br/>
<h1>isDuplex</h1>
<a name="okhttp3.RequestBody$isDuplex()"></a>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">isDuplex</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code>
<p>A duplex request body is special in how it is <strong>transmitted</strong> on the network and
in the <strong>API contract</strong> between OkHttp and the application.</p>
<p>This method returns false unless it is overridden by a subclass.</p>
<h3>Duplex Transmission</h3>
<p>With regular HTTP calls the request always completes sending before the response may begin
receiving. With duplex the request and response may be interleaved! That is, request body bytes
may be sent after response headers or body bytes have been received.</p>
<p>Though any call may be initiated as a duplex call, only web servers that are specially
designed for this nonstandard interaction will use it. As of 2019-01, the only widely-used
implementation of this pattern is <a href="https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md">gRPC</a>.</p>
<p>Because the encoding of interleaved data is not well-defined for HTTP/1, duplex request
bodies may only be used with HTTP/2. Calls to HTTP/1 servers will fail before the HTTP request
is transmitted. If you cannot ensure that your client and server both support HTTP/2, do not
use this feature.</p>
<h3>Duplex APIs</h3>
<p>With regular request bodies it is not legal to write bytes to the sink passed to
<a href="write-to.html">RequestBody.writeTo</a> after that method returns. For duplex requests bodies that condition is
lifted. Such writes occur on an application-provided thread and may occur concurrently with
reads of the <a href="../-response-body/index.html">ResponseBody</a>. For duplex request bodies, <a href="write-to.html">writeTo</a> should return
quickly, possibly by handing off the provided request body to another thread to perform
writing.</p>
</BODY>
</HTML>
